<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      <ion-back-button defaultHref="/cart"></ion-back-button>
    </ion-buttons>
    <ion-title>Checkout</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h2>Order Summary</h2>

  <!-- order items -->
  <ion-list *ngIf="cartItems.length > 0; else emptyCart">
    <ion-item *ngFor="let item of cartItems">
      <ion-thumbnail slot="start">
        <img [src]="item.image" alt="{{ item.title }}" style="width: 100%; max-width: 150px; height: auto; object-fit: cover;">
      </ion-thumbnail>

      <ion-label>
        <h2>{{ item.title }}</h2>
        <p>{{ item.price }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Promo Code -->
  <ion-item>
    <ion-label class="promo-code" position="floating">Promo Code</ion-label>
    <ion-input [(ngModel)]="promoCode"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label class="delivery-address">Delivery Address</ion-label>
    <ion-text>{{ selectedDeliveryAddress || 'No address selected' }}</ion-text>
    <ion-button (click)="changeDeliveryAddress()">Change</ion-button>
  </ion-item>

  <!-- Delivery Options -->
  <ion-item>
  <ion-label class="delivery-options">Delivery Options</ion-label>

  </ion-item>
  
  <ion-radio-group [(ngModel)]="selectedDeliveryOption">
    <ion-item *ngFor="let option of deliveryOptions">
      <ion-radio [value]="option.value"></ion-radio>
      <ion-label>{{ option.label }}</ion-label>
    </ion-item>
  </ion-radio-group>

  <!-- Payment Type -->
  <ion-item>
    <ion-label class="payment-type">Payment Type</ion-label>

    <ion-text>{{ selectedPaymentType || 'No type selected' }}</ion-text>
    <ion-button (click)="changePaymentType()">Change</ion-button>
  </ion-item>

  <ion-item>
    <ion-label>Sub-Total</ion-label>
    <ion-text>{{ calculateSubTotal() | currency:'€ ':'symbol' }}</ion-text>
  </ion-item>

  <!-- Delivery -->
  <ion-item>
    <ion-label>Delivery</ion-label>
    <ion-text>{{ deliveryCost | currency:'€ ':'symbol' }}</ion-text>
  </ion-item>

  <!-- Total to Pay  -->
  <ion-item>
    <ion-label>Total to Pay</ion-label>
    <ion-text>{{ subTotal + deliveryCost | currency:'€ ':'symbol' }}</ion-text>
  </ion-item>

  <!-- Message when the cart is empty -->
  <ng-template #emptyCart>
    <p>Your cart is empty.</p>
  </ng-template>

  <!-- Confirm Order Button -->
  <ion-button expand="full" color="primary" (click)="confirmOrder()">Confirm Order</ion-button>
</ion-content>
